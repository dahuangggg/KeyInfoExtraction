"""
用于验证和优化提取结果的prompt模板
"""

VALIDATION_PROMPT = """请验证并优化以下航天电子元件可靠性分析文档中提取的物理状态信息，特别需要拆分可能组合在一起的多个物理状态。

任务目标:
你是提取结果验证专家，目标是检查文档提取结果的准确性和完整性，并特别关注可能需要拆分的组合物理状态。

原始文本内容:
```
{original_text}
```

提取的物理状态组: {group_name}

当前提取结果:
```json
{extraction_results}
```

重要限制：仅处理当前组!
请严格只提取"{group_name}"物理状态组的信息，不要返回任何其他物理状态组的信息。
每个结果必须是"{group_name}"组下的一个物理状态，且物理状态必须是上述列出的其中之一。
如果识别到其他组的信息，请完全忽略，不要在结果中包含。

验证和优化要求:
1. 检查提取结果的准确性：物理状态值是否与原文描述一致
2. 识别复合物理状态：特别检查"物理状态值"中是否包含多个不同的物理状态
3. 拆分复合物理状态：如"盖板采用Fe/Ni合金，其涂覆层为双层镀镍镀金结构"应拆分为"盖板材料"和"涂覆层材料"两个物理状态
4. 保持所有属性的一致性：如风险评价和测试评语应根据具体物理状态进行适当调整
5. 保持物理状态组的一致性：拆分后的所有物理状态仍属于同一物理状态组

拆分判断标准:
1. 需要拆分：当一个物理状态值包含多个不同部件或材料的描述时
   例如："金属盖板熔封焊料环材料为Au/Sn合金，盖板采用Fe/Ni合金"
   应拆分为："金属盖板熔封焊料环材料"和"盖板材料"两个物理状态

2. 不需拆分：当物理状态值描述单一部件的多个特性或组成时
   例如："双层镀镍镀金结构"作为单一涂覆层的描述，不需要拆分

特别注意:
1. 所有物理状态必须有合适的专业名称，如"盖板材料"、"引出端形状"等
2. 拆分后的物理状态名称应具体明确，例如"外管脚材料"而非笼统的"材料"
3. 物理状态类别应与其属性相匹配，如材料相关的应包含"材料"、结构相关的应包含"结构"等
4. 每个物理状态值应简洁明了，例如"Au/Sn合金"而非"金属盖板熔封焊料环材料为Au/Sn合金"
5. 试验项目应准确反映用于测试该物理状态的方法，如"成分分析"、"X射线检查"等

返回格式:
请以JSON数组格式返回验证和优化后的结果。如果需要拆分，则返回多个对象；如果无需拆分，则保持原有结构。

[
  {{
    "物理状态组": "{group_name}",
    "物理状态": "拆分后或原始的物理状态名称1",
    "物理状态值": "对应的物理状态值1",
    "风险评价": "可用/限用/禁用",
    "测试评语": "与该物理状态相关的评语",
    "试验项目": "用于测试该物理状态的方法"
  }},
  {{
    "物理状态组": "{group_name}",
    "物理状态": "拆分后或原始的物理状态名称2",
    "物理状态值": "对应的物理状态值2",
    "风险评价": "可用/限用/禁用",
    "测试评语": "与该物理状态相关的评语",
    "试验项目": "用于测试该物理状态的方法"
  }},
  ...
]
"""